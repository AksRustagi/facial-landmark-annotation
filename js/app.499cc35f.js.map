{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Timeline.vue?26bd","webpack:///./src/components/LandmarkEditorFace.vue?07e6","webpack:///./src/components/Controls.vue?a2e0","webpack:///./src/components/Menu.vue?3dbe","webpack:///./src/components/DetailTable.vue?015d","webpack:///./src/components/LandmarkEditor.vue?8d50","webpack:///./src/App.vue?3db3","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?411e","webpack:///./src/components/Controls.vue?4218","webpack:///./src/store/index.ts","webpack:///./src/utils/file.ts","webpack:///./src/store/modules/timeline.ts","webpack:///./src/utils/editor.ts","webpack:///./src/store/modules/app.ts","webpack:///./src/components/Controls.vue?52eb","webpack:///./src/components/Controls.vue?1117","webpack:///./src/components/Controls.vue","webpack:///./src/components/DetailTable.vue?900d","webpack:///./src/components/DetailTable.vue?0c66","webpack:///./src/components/DetailTable.vue?0779","webpack:///./src/components/DetailTable.vue","webpack:///./src/components/LandmarkEditor.vue?afc4","webpack:///./src/components/LandmarkEditorFace.vue?b60f","webpack:///./src/components/LandmarkEditorFace.vue?0812","webpack:///./src/components/LandmarkEditorFace.vue?27fb","webpack:///./src/components/LandmarkEditorFace.vue","webpack:///./src/utils/faceapi.ts","webpack:///./src/components/LandmarkEditor.vue?863e","webpack:///./src/components/LandmarkEditor.vue?4316","webpack:///./src/components/LandmarkEditor.vue","webpack:///./src/components/Menu.vue?152a","webpack:///./src/components/HelpModal.vue?e3a6","webpack:///./src/components/HelpModal.vue?e5e5","webpack:///./src/components/HelpModal.vue?0b90","webpack:///./src/components/HelpModal.vue","webpack:///./src/components/PreferencesModal.vue?7fe5","webpack:///./src/components/PreferencesModal.vue?7acf","webpack:///./src/components/PreferencesModal.vue?f0e7","webpack:///./src/components/PreferencesModal.vue","webpack:///./src/components/Menu.vue?0c0c","webpack:///./src/components/Menu.vue?55e0","webpack:///./src/components/Menu.vue","webpack:///./src/components/Timeline.vue?fa9c","webpack:///./src/components/Timeline.vue?173e","webpack:///./src/components/Timeline.vue?10fc","webpack:///./src/components/Timeline.vue","webpack:///./src/views/Home.vue?42b8","webpack:///./src/views/Home.vue?102e","webpack:///./src/views/Home.vue","webpack:///./src/router.ts","webpack:///./src/registerServiceWorker.ts","webpack:///./src/main.ts","webpack:///./src/App.vue?272e","webpack:///./src/views/Home.vue?638e"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","script","component","staticClass","isLoading","on","$event","total","model","callback","$$v","current","expression","startAutoProcess","_v","scoreThreshold","isAutoProcess","stopAutoProcess","use","Store","loadAsText","file","async","Promise","resolve","reject","reader","FileReader","onload","e","onerror","readAsText","roundTo2Decimal","Math","round","roundFaceDecimal","face","rect","x","y","width","height","landmarks","forEach","meta","duration","frames","frame","Array","ceil","faces","set","json","JSON","parse","stringify","Blob","type","mutate","dynamic","store","namespaced","TimelineModule","deepCloneFace","currentFrame","fps","videoUrl","forceDetect","faceSelected","faceCopied","faceDetectorOptions","totalFrame","firstBlankFrame","URL","createObjectURL","AppModule","addFace","newFace","undefined","id","some","f","updateFrame","index","findIndex","clearAllFrames","threshold","inputSize","setScoreThreshold","setForceDetect","setCurrentFrame","components","currentData","columns","dragstart","drop","dragover","dragleave","field","label","numeric","draggingRowIndex","payload","draggingRow","row","event","dataTransfer","effectAllowed","dropEffect","setSelected","target","preventDefault","droppedOn","swapFaceIndex","a","b","tmp","tmpId","selected","closest","classList","add","remove","style","ref","domProps","currentTime","onVideoLoaded","onVideoSeeked","svgViewBox","onSvgMouseDown","onSvgMouseMove","onSvgMouseUp","onSvgMouseLeave","_l","$refs","svg","zoom","newFaceRect","_e","directives","rawName","zoomOut","zoomIn","allPath","strokeWidth","isSelectedFace","onRectMouseDown","onRectMouseMove","onRectMouseUp","_s","onCircleMouseDown","onCircleMouseMove","onCircleMouseUp","selectedPoint","rectMouseDown","faceMouseDown","svgPoint","rootSvg","createSVGPoint","selectFace","getTransformedPoint","clientX","clientY","diff","sub","map","origin","updatePoint","positions","matrixTransform","getScreenCTM","inverse","points","close","path","pointToPath","default","toIRect","toIPoint","resolution","svgDownPoint","nextBlankFrame","detectFace","video","videoWidth","videoHeight","setVideoDuration","setMetaData","nextFrame","srcElement","tl","min","br","max","createNewFace","input","drawImage","useCache","console","log","options","withFaceLandmarks","detections","alignedRect","box","transform","LandmarkEditorFace","items","item","method","keymap","join","onLoadFile","_m","cols","shortcuts","setFps","folders","loadVideo","loadJson","saveJson","onCopy","pasteFace","deleteFace","prevFrame","showPreferences","showHelp","$buefy","dialog","confirm","message","onConfirm","accept","click","reduceDataSize","jsonBlob","copyFace","toast","open","modal","parent","hasModalCard","files","startsWith","loadJsonFile","catch","err","warn","showNotSupported","alert","getPosX","frameHeight","labelHeight","labelInterval","class","getFrameClass","frameWidth","len","floor","modelpath","addEventListener","onBeforeUnload","removeEventListener","returnValue","Controls","DetailTable","LandmarkEditor","Menu","Timeline","base","routes","ready","registered","cached","updatefound","updated","offline","error","config","productionTip","router","render","h","$mount"],"mappings":"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","file":"js/app.499cc35f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"facial-landmark-annotation/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=style&index=0&id=fdfecec0&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=style&index=0&id=fdfecec0&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandmarkEditorFace.vue?vue&type=style&index=0&id=64d4058a&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandmarkEditorFace.vue?vue&type=style&index=0&id=64d4058a&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=0&id=31a6b580&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=0&id=31a6b580&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&id=04c59eef&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&id=04c59eef&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailTable.vue?vue&type=style&index=0&id=98256f88&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailTable.vue?vue&type=style&index=0&id=98256f88&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandmarkEditor.vue?vue&type=style&index=0&id=06ccb5a7&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandmarkEditor.vue?vue&type=style&index=0&id=06ccb5a7&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=515afb46&lang=pug&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('Menu'),_c('div',{staticClass:\"editor\"},[_c('LandmarkEditor',{staticClass:\"landmark-editor\"}),_c('DetailTable',{staticClass:\"detail-table\"})],1),_c('Controls'),_c('Timeline'),_c('b-loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"controls cotainer\"},[_c('div',{staticClass:\"columns\"},[_c('b-field',{staticClass:\"column\",attrs:{\"label\":\"Frame:\"}},[_c('b-tooltip',{attrs:{\"label\":\"Prev: (,) Next: (.)\",\"type\":\"is-light\"}},[_c('b-numberinput',{attrs:{\"controls-position\":\"compact\",\"min\":\"0\",\"max\":_vm.total},model:{value:(_vm.current),callback:function ($$v) {_vm.current=$$v},expression:\"current\"}})],1)],1),_c('b-field',{staticClass:\"column\",attrs:{\"label\":\"Commands:\"}},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.startAutoProcess}},[_vm._v(\"Start Auto\")])])])]),_c('b-field',{staticClass:\"column\",attrs:{\"label\":\"Threshold:\"}},[_c('b-numberinput',{attrs:{\"controls-position\":\"compact\",\"min\":\"0\",\"max\":\"1\",\"step\":\"0.05\"},model:{value:(_vm.scoreThreshold),callback:function ($$v) {_vm.scoreThreshold=$$v},expression:\"scoreThreshold\"}})],1)],1),_c('b-loading',{attrs:{\"active\":_vm.isAutoProcess,\"canCancel\":\"\"},on:{\"update:active\":function($event){_vm.isAutoProcess=$event},\"onCancel\":_vm.stopAutoProcess}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport { IAppState } from './modules/app'\nimport { ITimelineState } from './modules/timeline'\n\nVue.use(Vuex)\n\nexport interface IRootState {\n  app: IAppState,\n  timeline: ITimelineState,\n}\nexport default new Vuex.Store<IRootState>({})\n","\nexport const loadAsText = async (file: File): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader()\n    reader.onload = (e) => {\n      resolve(reader.result as string)\n    }\n    reader.onerror = reject\n    reader.readAsText(file)\n  })\n}\n","import Vue from 'vue'\nimport { VuexModule, Module, Mutation, MutationAction, getModule } from 'vuex-module-decorators'\nimport store from '@/store'\nimport { loadAsText } from '@/utils/file'\nimport { IFace, IFrameData, IVideoMetaData } from '../types'\n\n\nexport interface ITimelineState {\n  meta: IVideoMetaData\n  frames: IFace[][]\n}\n\n\nconst roundTo2Decimal = (n: number) => {\n  return Math.round(n * 100) / 100\n}\n\nconst roundFaceDecimal = (face: IFace) => {\n  // rect\n  face.rect.x = roundTo2Decimal(face.rect.x)\n  face.rect.y = roundTo2Decimal(face.rect.y)\n  face.rect.width = roundTo2Decimal(face.rect.width)\n  face.rect.height = roundTo2Decimal(face.rect.height)\n  // points\n  face.landmarks.forEach((p) => {\n    p.x = roundTo2Decimal(p.x)\n    p.y = roundTo2Decimal(p.y)\n  })\n}\n\n@Module({ dynamic: true, store, name: 'timeline', namespaced: true })\nclass Timeline extends VuexModule implements ITimelineState {\n\n  public meta: IVideoMetaData = {\n    duration: 0,\n    frames: 0,\n    width: 0,\n    height: 0,\n  }\n\n  public frames: IFace[][] = []\n\n  public get firstBlankFrame(): number {\n    for (let i = 0; i < this.frames.length; i++) {\n      if (!this.frames[i]) {\n        return i\n      }\n    }\n    return -1\n  }\n\n  public get jsonBlob(): Blob {\n    const json = JSON.stringify({\n      meta: this.meta,\n      frames: this.frames,\n    })\n    return new Blob([json], { type: 'application/json;charset=utf-8' })\n  }\n\n  @Mutation\n  public reduceDataSize() {\n    this.frames.forEach((frame) => {\n      if (frame) {\n        frame.forEach((face) => {\n          roundFaceDecimal(face)\n        })\n      }\n    })\n  }\n\n  @Mutation\n  public setMetaData(meta: IVideoMetaData) {\n    this.meta = meta\n    this.frames = new Array(Math.ceil(meta.frames)) // clear frames\n  }\n\n  @Mutation\n  public updateFrame(data: IFrameData) {\n    data.faces.forEach((face) => {\n      roundFaceDecimal(face)\n    })\n    Vue.set(this.frames, data.frame, data.faces)\n  }\n\n  @MutationAction({ mutate: ['meta', 'frames' ]})\n  public async loadJsonFile(file: File): Promise<{ meta: IVideoMetaData; frames: IFace[][]; }> {\n    const json = await loadAsText(file)\n    return JSON.parse(json)\n  }\n\n  @Mutation\n  public clearAllFrames() {\n    this.frames = new Array(Math.ceil(this.meta.frames))\n  }\n\n}\n\nexport const TimelineModule = getModule(Timeline)\n","import { IFace } from '@/store/types'\n\nexport const cloneFace = (face: IFace): IFace => {\n  return Object.assign({}, face)\n}\n\nexport const deepCloneFace = (face: IFace): IFace => {\n  return JSON.parse(JSON.stringify(face))\n}\n","import { VuexModule, Module, Mutation, Action, getModule } from 'vuex-module-decorators'\nimport * as faceapi from 'face-api.js'\nimport store from '@/store'\nimport { TimelineModule } from './timeline'\nimport { IFace } from '../types'\nimport { deepCloneFace } from '@/utils/editor'\n\nexport interface IAppState {\n  currentFrame: number\n  duration: number\n  fps: number\n  videoUrl: string\n}\n\n@Module({ dynamic: true, store, name: 'app', namespaced: true })\nclass App extends VuexModule implements IAppState {\n\n  public currentFrame: number = 0\n  public duration: number = 0\n  public fps: number = 30\n  public videoUrl: string = ''\n  public isAutoProcess: boolean = false\n  public forceDetect: boolean = false\n  public faceSelected: IFace | null = null\n  public faceCopied: IFace | null = null\n  public faceDetectorOptions = new faceapi.TinyFaceDetectorOptions()\n\n  public get totalFrame(): number {\n    return this.fps * this.duration\n  }\n\n  public get currentTime(): number {\n    return this.currentFrame / this.fps\n  }\n\n  public get canCopy(): boolean {\n    return this.faceSelected !== null\n  }\n\n  public get canPaste(): boolean {\n    return this.faceCopied !== null\n  }\n\n  @Mutation\n  public nextFrame() {\n    // since getter in Mutation does not works\n    const totalFrame = this.fps * this.duration\n    if (totalFrame <= this.currentFrame) {\n      this.isAutoProcess = false\n      return\n    }\n    this.currentFrame++\n    this.faceSelected = null\n  }\n\n  @Mutation\n  public prevFrame() {\n    if (this.currentFrame === 0) {\n      return\n    }\n    this.currentFrame--\n    this.faceSelected = null\n  }\n\n  @Mutation\n  public setCurrentFrame(value: number) {\n    if (value < 0 || this.totalFrame < value) {\n      return\n    }\n    this.currentFrame = value\n    this.faceSelected = null\n  }\n\n  @Mutation\n  public nextBlankFrame() {\n    const frame = TimelineModule.firstBlankFrame\n    if (frame < 0) {\n      this.isAutoProcess = false\n      return\n    }\n    if (this.totalFrame < frame) {\n      return\n    }\n    this.currentFrame = frame\n  }\n\n  @Mutation\n  public loadVideo(file: File) {\n    this.videoUrl = URL.createObjectURL(file)\n  }\n\n  @Mutation\n  public setVideoDuration(duration: number) {\n    this.duration = duration\n  }\n\n  @Mutation\n  public startAutoProcess() {\n    this.isAutoProcess = true\n  }\n\n  @Mutation\n  public stopAutoProcess() {\n    this.isAutoProcess = false\n  }\n\n  @Mutation\n  public selectFace(face: IFace | null) {\n    this.faceSelected = face\n  }\n\n  @Mutation\n  public copyFace() {\n    if (this.faceSelected === null) {\n      return\n    }\n    this.faceCopied = this.faceSelected\n  }\n\n  @Mutation\n  public pasteFace() {\n    if (this.faceCopied !== null) {\n      AppModule.addFace(deepCloneFace(this.faceCopied))\n    }\n  }\n\n  @Mutation\n  public addFace(face: IFace) {\n    const frame = this.currentFrame\n    const current = TimelineModule.frames[frame]\n    const newFace = face\n\n    let faces: IFace[]\n    if (current === undefined || current === null || current.length === 0) {\n      faces = [newFace]\n    } else {\n      // find original ID\n      let id = 0\n      for (id = 0; id <= current.length; id++) {\n        if (!current.some((f) => f.id === id)) {\n          break\n        }\n      }\n      newFace.id = id\n      current.push(newFace)\n      faces = current\n    }\n\n    TimelineModule.updateFrame({\n      frame,\n      faces,\n    })\n  }\n\n  @Mutation\n  public deleteFace() {\n    const current = TimelineModule.frames[this.currentFrame]\n    if (this.faceSelected === null\n      || current === null\n      || current.length === 0) {\n      return\n    }\n    const index = current.findIndex((f) => f === this.faceSelected)\n    if (index >= 0) {\n      current.splice(index, 1)\n    }\n  }\n\n  @Mutation\n  public setFps(fps: number) {\n    this.fps = fps\n    TimelineModule.clearAllFrames()\n  }\n\n  @Mutation\n  public setScoreThreshold(threshold: number) {\n    const current = this.faceDetectorOptions\n    this.faceDetectorOptions = new faceapi.TinyFaceDetectorOptions({\n      inputSize: current.inputSize,\n      scoreThreshold: threshold,\n    })\n  }\n\n  @Mutation\n  public setForceDetect(value: boolean) {\n    this.forceDetect = value\n  }\n}\n\nexport const AppModule = getModule(App)\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator'\nimport { AppModule } from '@/store/modules/app'\nimport * as faceapi from 'face-api.js'\n\n@Component({\n  components: {},\n})\nexport default class Controls extends Vue {\n\n  public $refs!: {\n    timeSlider: HTMLInputElement;\n  }\n\n  private scoreThreshold = new faceapi.TinyFaceDetectorOptions().scoreThreshold\n\n  private get current(): number { return AppModule.currentFrame }\n  private set current(n: number) { AppModule.setCurrentFrame(n) }\n\n  private get total(): number { return Math.ceil(AppModule.totalFrame) }\n\n  private get isAutoProcess() { return AppModule.isAutoProcess }\n  private set isAutoProcess(value: boolean) {\n    if (value) {\n      AppModule.startAutoProcess()\n    } else {\n      AppModule.stopAutoProcess()\n    }\n  }\n\n  private startAutoProcess() {\n    this.isAutoProcess = true\n  }\n\n  private stopAutoProcess() {\n    this.isAutoProcess = false\n  }\n\n  @Watch('scoreThreshold')\n  private onScoreThresholdChnaged(value: number) {\n    AppModule.setScoreThreshold(value)\n    AppModule.setForceDetect(true)\n  }\n\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Controls.vue?vue&type=template&id=31a6b580&scoped=true&lang=pug&\"\nimport script from \"./Controls.vue?vue&type=script&lang=ts&\"\nexport * from \"./Controls.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Controls.vue?vue&type=style&index=0&id=31a6b580&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31a6b580\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-table',{staticClass:\"detail-table\",attrs:{\"data\":_vm.currentData,\"columns\":_vm.columns,\"striped\":\"\",\"draggable\":\"\"},on:{\"dragstart\":_vm.dragstart,\"drop\":_vm.drop,\"dragover\":_vm.dragover,\"dragleave\":_vm.dragleave}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop } from 'vue-property-decorator'\nimport { AppModule } from '@/store/modules/app'\nimport { TimelineModule } from '@/store/modules/timeline'\nimport { IFace } from '@/store/types'\nimport * as faceapi from 'face-api.js'\n\ninterface Payload {\n  event: DragEvent,\n  index: number,\n  row: IFace\n}\n\n@Component({\n  components: {},\n})\nexport default class DetailTable extends Vue {\n  private columns = [\n    { field: 'id', label: 'ID', width: '40', numeric: true },\n    { field: 'rect.x', label: 'X', width: '40', numeric: true },\n    { field: 'rect.y', label: 'Y', width: '40', numeric: true },\n    { field: 'rect.width', label: 'W', width: '40', numeric: true },\n    { field: 'rect.height', label: 'H', width: '40', numeric: true },\n  ]\n\n  private draggingRow!: IFace\n  private draggingRowIndex = -1\n\n  private get currentData(): IFace[] {\n    const frame = TimelineModule.frames[AppModule.currentFrame]\n    if (frame) {\n      return frame\n    }\n    return []\n  }\n\n  private dragstart(payload: Payload) {\n    this.draggingRow = payload.row\n    this.draggingRowIndex = payload.index\n    payload.event.dataTransfer!.effectAllowed = 'copy'\n  }\n\n  private dragover(payload: Payload) {\n    payload.event.dataTransfer!.dropEffect = 'copy'\n    this.setSelected(payload.event.target, true)\n    payload.event.preventDefault()\n  }\n\n  private dragleave(payload: Payload) {\n    this.setSelected(payload.event.target, false)\n    payload.event.preventDefault()\n  }\n\n  private drop(payload: Payload) {\n    this.setSelected(payload.event.target, false)\n    const droppedOn = payload.index\n\n    this.swapFaceIndex(this.draggingRowIndex, droppedOn)\n  }\n\n  private swapFaceIndex(a: number, b: number) {\n    const frames = this.currentData\n    const tmp = frames[a]\n    const tmpId = tmp.id\n\n    frames[a].id = frames[b].id\n    frames[b].id = tmpId\n\n    Vue.set(frames, a, frames[b])\n    Vue.set(frames, b, tmp)\n  }\n\n  private setSelected(target: any, selected: boolean) {\n    if (selected) {\n      target.closest('tr').classList.add('is-selected')\n    } else {\n      target.closest('tr').classList.remove('is-selected')\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailTable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailTable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DetailTable.vue?vue&type=template&id=98256f88&scoped=true&lang=pug&\"\nimport script from \"./DetailTable.vue?vue&type=script&lang=ts&\"\nexport * from \"./DetailTable.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DetailTable.vue?vue&type=style&index=0&id=98256f88&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"98256f88\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"editor\"},[_c('div',{staticClass:\"scaler\",style:(_vm.scalerStyle)},[_c('video',{ref:\"video\",attrs:{\"muted\":\"\",\"src\":_vm.videoUrl},domProps:{\"muted\":true,\"currentTime\":_vm.currentTime},on:{\"loadeddata\":_vm.onVideoLoaded,\"seeked\":_vm.onVideoSeeked}}),_c('svg',{ref:\"svg\",staticClass:\"overlay\",attrs:{\"viewBox\":_vm.svgViewBox},on:{\"mousedown\":_vm.onSvgMouseDown,\"mousemove\":_vm.onSvgMouseMove,\"mouseup\":_vm.onSvgMouseUp,\"mouseleave\":_vm.onSvgMouseLeave}},[_vm._l((_vm.faces),function(face,index){return _c('LandmarkEditorFace',{key:index,attrs:{\"face\":face,\"rootSvg\":_vm.$refs.svg,\"zoom\":_vm.zoom}})}),(_vm.newFaceRect.width > 0)?_c('rect',{staticClass:\"newrect\",attrs:{\"x\":_vm.newFaceRect.x,\"y\":_vm.newFaceRect.y,\"width\":_vm.newFaceRect.width,\"height\":_vm.newFaceRect.height}}):_vm._e()],2)])]),_c('div',{staticClass:\"zoom-ui\"},[_c('b-tooltip',{attrs:{\"label\":\"Zoom Out (z)\",\"type\":\"is-light\",\"position\":\"is-right\"}},[_c('button',{directives:[{name:\"shortkey\",rawName:\"v-shortkey\",value:(['z']),expression:\"['z']\"}],staticClass:\"button\",on:{\"click\":_vm.zoomOut,\"shortkey\":_vm.zoomOut}},[_c('b-icon',{attrs:{\"icon\":\"magnify-minus\"}})],1)]),_c('b-tooltip',{attrs:{\"label\":\"Zoom In (x)\",\"type\":\"is-light\",\"position\":\"is-right\"}},[_c('button',{directives:[{name:\"shortkey\",rawName:\"v-shortkey\",value:(['x']),expression:\"['x']\"}],staticClass:\"button\",on:{\"click\":_vm.zoomIn,\"shortkey\":_vm.zoomIn}},[_c('b-icon',{attrs:{\"icon\":\"magnify-plus\"}})],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('path',{staticClass:\"svg-stroke\",attrs:{\"d\":_vm.allPath,\"stroke-width\":2 / _vm.zoom}}),_c('rect',{staticClass:\"rect svg-stroke\",style:({ strokeWidth: _vm.isSelectedFace ? 3 : 1}),attrs:{\"x\":_vm.rect.x,\"y\":_vm.rect.y,\"width\":_vm.rect.width,\"height\":_vm.rect.height},on:{\"mousedown\":_vm.onRectMouseDown,\"mousemove\":_vm.onRectMouseMove,\"mouseup\":_vm.onRectMouseUp}}),_c('text',{attrs:{\"x\":_vm.rect.x,\"y\":_vm.rect.y - 2}},[_vm._v(\"ID: \"+_vm._s(_vm.face.id))]),_vm._l((_vm.positions),function(p,index){return _c('circle',{key:index,attrs:{\"r\":6 / _vm.zoom,\"stroke-width\":4 / _vm.zoom,\"draggable\":\"true\",\"cx\":p.x,\"cy\":p.y},on:{\"mousedown\":function (e) { return _vm.onCircleMouseDown(e, index); },\"mousemove\":function (e) { return _vm.onCircleMouseMove(e, index); },\"mouseup\":function (e) { return _vm.onCircleMouseUp(e, index); },\"mouseleave\":function (e) { return _vm.onCircleMouseUp(e, index); }}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator'\nimport { AppModule } from '@/store/modules/app'\nimport { TimelineModule } from '@/store/modules/timeline'\nimport { IFace } from '@/store/types'\nimport * as faceapi from 'face-api.js'\nimport { deepCloneFace } from '@/utils/editor'\n\n@Component({\n  components: {},\n})\nexport default class LandmarkEditorFace extends Vue {\n\n  @Prop({ default: null })\n  public face!: IFace\n\n  @Prop({ default: null })\n  public rootSvg!: SVGGraphicsElement\n\n  @Prop({ default: 1.0 })\n  public zoom!: number\n\n  private svgPoint!: SVGPoint\n  private selectedPoint = -1\n  private rectMouseDown: faceapi.Point = new faceapi.Point(-1, -1)\n  private faceMouseDown: IFace = this.face\n\n  private mounted() {\n    this.svgPoint = (this.rootSvg as any).createSVGPoint()\n  }\n\n  private get positions(): faceapi.IPoint[] {\n    return this.face.landmarks\n  }\n\n  private get rect(): faceapi.IRect {\n    return this.face.rect\n  }\n\n  private get isSelectedFace(): boolean {\n    return this.face === AppModule.faceSelected\n  }\n\n  private onRectMouseDown(e: MouseEvent) {\n    e.preventDefault()\n    AppModule.selectFace(this.face)\n    // this.rectMouseDown = new faceapi.Point(e.clientX, e.clientY)\n    this.rectMouseDown = this.getTransformedPoint(e.clientX, e.clientY)\n    this.faceMouseDown = deepCloneFace(this.face)\n  }\n\n  private onRectMouseMove(e: MouseEvent) {\n    e.preventDefault()\n    if (this.rectMouseDown.x < 0) {\n      return // only dragging\n    }\n\n    const current = this.getTransformedPoint(e.clientX, e.clientY)\n    const diff = current.sub(this.rectMouseDown)\n\n    // Move rect\n    this.face.rect.x = this.faceMouseDown.rect.x + diff.x\n    this.face.rect.y = this.faceMouseDown.rect.y + diff.y\n    // Move all landmakrs\n    this.face.landmarks = this.face.landmarks.map((p, i) => {\n      const origin = this.faceMouseDown.landmarks[i]\n      return {\n        x: origin.x + diff.x,\n        y: origin.y + diff.y,\n      }\n    })\n  }\n\n  private onRectMouseUp(e: MouseEvent) {\n    this.rectMouseDown = new faceapi.Point(-1, -1)\n  }\n\n  private onCircleMouseDown(e: MouseEvent, index: number) {\n    e.preventDefault()\n    this.selectedPoint = index\n  }\n\n  private onCircleMouseMove(e: MouseEvent, index: number) {\n    e.preventDefault()\n    if (this.selectedPoint === index) {\n      this.updatePoint(index, this.getTransformedPoint(e.clientX, e.clientY))\n    }\n  }\n\n  private onCircleMouseUp(e: MouseEvent, index: number) {\n    e.preventDefault()\n    if (this.selectedPoint === index) {\n      this.updatePoint(index, this.getTransformedPoint(e.clientX, e.clientY))\n    }\n    this.selectedPoint = -1\n  }\n\n\n  private updatePoint(index: number, p: faceapi.Point) {\n    Vue.set(this.positions, index, {\n      x: p.x,\n      y: p.y,\n    })\n  }\n\n  private getTransformedPoint(x: number, y: number): faceapi.Point {\n    this.svgPoint.x = x\n    this.svgPoint.y = y\n    const p = this.svgPoint.matrixTransform(this.rootSvg.getScreenCTM()!.inverse())\n    return new faceapi.Point(p.x, p.y)\n  }\n\n  private get allPath(): string {\n    let path = ''\n    // https://github.com/justadudewhohacks/face-api.js/blob/master/src/classes/FaceLandmarks68.ts\n    path += this.pointToPath(this.face.landmarks.slice(0, 17), false) // getJawOutline\n    path += this.pointToPath(this.face.landmarks.slice(17, 22), false) // getLeftEyeBrow\n    path += this.pointToPath(this.face.landmarks.slice(22, 27), false) // getRightEyeBrow\n    path += this.pointToPath(this.face.landmarks.slice(27, 36), false) // getNose\n    path += this.pointToPath(this.face.landmarks.slice(36, 42), true) // getLeftEye\n    path += this.pointToPath(this.face.landmarks.slice(42, 48), true) // getRightEye\n    path += this.pointToPath(this.face.landmarks.slice(48, 68), true) // getMouth\n    return path\n  }\n\n  private pointToPath(points: faceapi.IPoint[], close: boolean): string {\n    let path = ''\n\n    points.forEach((p, i) => {\n      if (i === 0) {\n        path += `M${p.x} ${p.y} `\n      } else {\n        path += `L${p.x} ${p.y} `\n      }\n    })\n    path += close ? ' Z ' : ' '\n    return path\n  }\n\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandmarkEditorFace.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandmarkEditorFace.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LandmarkEditorFace.vue?vue&type=template&id=64d4058a&scoped=true&lang=pug&\"\nimport script from \"./LandmarkEditorFace.vue?vue&type=script&lang=ts&\"\nexport * from \"./LandmarkEditorFace.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./LandmarkEditorFace.vue?vue&type=style&index=0&id=64d4058a&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64d4058a\",\n  null\n  \n)\n\nexport default component.exports","import * as faceapi from 'face-api.js'\n\nexport const toIRect = (r: faceapi.IRect) => {\n  return {\n    x: r.x,\n    y: r.y,\n    width: r.width,\n    height: r.height,\n  }\n}\n\nexport const toIPoint = (p: faceapi.IPoint) => {\n  return {\n    x: p.x,\n    y: p.y,\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from 'vue-property-decorator'\nimport { createCanvas, getContext2dOrThrow } from 'tfjs-image-recognition-base'\nimport { AppModule } from '@/store/modules/app'\nimport { TimelineModule } from '@/store/modules/timeline'\nimport { IFace } from '@/store/types'\nimport * as faceapi from 'face-api.js'\nimport LandmarkEditorFace from './LandmarkEditorFace.vue'\nimport { toIRect, toIPoint } from '@/utils/faceapi'\n\n@Component({\n  components: { LandmarkEditorFace },\n})\nexport default class LandmarkEditor extends Vue {\n\n  public $refs!: {\n    video: HTMLVideoElement;\n    svg: SVGGraphicsElement\n  }\n\n  private svgViewBox = '0 0 1280 720'\n  private resolution: faceapi.IDimensions = new faceapi.Dimensions(0, 0)\n  private zoom = 1\n  private svgPoint!: SVGPoint\n  private svgDownPoint = new faceapi.Point(-1, -1)\n  private newFaceRect = new faceapi.Rect(0, 0, 0, 0)\n\n  private get faces() { return TimelineModule.frames[AppModule.currentFrame] }\n\n  private get video() { return this.$refs.video }\n  private get videoUrl(): string { return AppModule.videoUrl }\n\n  private get currentTime() { return AppModule.currentTime }\n  private get isAutoProcess(): boolean { return AppModule.isAutoProcess }\n\n  private get options() { return AppModule.faceDetectorOptions }\n  private get forceDetect(): boolean { return AppModule.forceDetect }\n\n  private get scalerStyle() {\n    return {\n      width: this.resolution.width + 'px',\n      height: this.resolution.height + 'px',\n      transform: `scale(${this.zoom})`,\n    }\n  }\n\n  private mounted() {\n    this.svgPoint = (this.$refs.svg as any).createSVGPoint()\n  }\n\n  @Watch('isAutoProcess')\n  private onAutoProcessChanged(value: boolean) {\n    if (value) {\n      // Start from next blank frame\n      AppModule.nextBlankFrame()\n    }\n  }\n\n  @Watch('forceDetect')\n  private async onForceDetectChanged(value: boolean) {\n    if (value) {\n      await this.detectFace(false)\n      AppModule.setForceDetect(false)\n    }\n  }\n\n  private async onVideoLoaded() {\n    this.svgViewBox = `0 0 ${this.video.videoWidth} ${this.video.videoHeight}`\n    this.resolution = new faceapi.Dimensions(this.video.videoWidth, this.video.videoHeight)\n\n    AppModule.setVideoDuration(this.video.duration)\n    TimelineModule.setMetaData({\n      duration: this.video.duration,\n      frames: AppModule.totalFrame,\n      width: this.video.videoWidth,\n      height: this.video.videoHeight,\n    })\n\n    await this.detectFace(true)\n  }\n\n  private async onVideoSeeked() {\n    await this.detectFace(true)\n    if (this.isAutoProcess) {\n      AppModule.nextFrame()\n    }\n  }\n\n  private onSvgMouseDown(e: MouseEvent) {\n    e.preventDefault()\n    if (e.srcElement === this.$refs.svg) {\n      AppModule.selectFace(null) // unselect\n      this.svgDownPoint = this.getTransformedPoint(e.clientX, e.clientY)\n    }\n  }\n\n  private onSvgMouseMove(e: MouseEvent) {\n    e.preventDefault()\n    if (this.svgDownPoint.x < 0) {\n      return\n    }\n    // make new rect area\n    const a = this.getTransformedPoint(e.clientX, e.clientY)\n    const b = this.svgDownPoint\n    const tl = new faceapi.Point(Math.min(a.x, b.x), Math.min(a.y, b.y))\n    const br = new faceapi.Point(Math.max(a.x, b.x), Math.max(a.y, b.y))\n    this.newFaceRect = new faceapi.Rect(tl.x, tl.y, br.x - tl.x, br.y - tl.y)\n  }\n\n  private async onSvgMouseUp(e: MouseEvent) {\n    e.preventDefault()\n    if (this.newFaceRect.width > 10 && this.newFaceRect.height > 10) {\n      await this.createNewFace(this.newFaceRect)\n    }\n    this.svgDownPoint = new faceapi.Point(-1, -1)\n    this.newFaceRect = new faceapi.Rect(0, 0, 0, 0)\n  }\n\n  private async onSvgMouseLeave(e: MouseEvent) {\n    e.preventDefault()\n    this.svgDownPoint = new faceapi.Point(-1, -1)\n    this.newFaceRect = new faceapi.Rect(0, 0, 0, 0)\n  }\n\n  private async createNewFace(rect: faceapi.Rect) {\n    // detect landmarks from rect\n    const input = createCanvas({width: rect.width, height: rect.height})\n    getContext2dOrThrow(input).drawImage(this.video,\n      rect.x, rect.y, rect.width, rect.height,\n      0, 0, rect.width, rect.height)\n    const landmarks = await faceapi.detectFaceLandmarks(input) as faceapi.FaceLandmarks68\n\n    // add new face\n    const face: IFace = {\n      id: 0,\n      rect: toIRect(rect),\n      landmarks: landmarks.positions.map((p) => {\n        return {\n          x: p.x + rect.x,\n          y: p.y + rect.y,\n        }\n      }),\n    }\n    AppModule.addFace(face)\n  }\n\n  private zoomIn() {\n    this.zoom *= 3 / 2\n  }\n\n  private zoomOut() {\n    this.zoom *= 2 / 3\n  }\n\n  private async detectFace(useCache: boolean) {\n    const frame = AppModule.currentFrame\n\n    if (useCache && this.faces) {\n      console.log('use cache')\n      return\n    }\n\n    const detections = await faceapi.detectAllFaces(this.video, this.options).withFaceLandmarks()\n\n    const faces = detections.map((d, i) => {\n      return {\n        id: i,\n        rect: toIRect(d.alignedRect.box),\n        landmarks: d.landmarks.positions.map((p) => toIPoint(p)),\n      }\n    })\n    TimelineModule.updateFrame({ frame, faces })\n  }\n\n  private getTransformedPoint(x: number, y: number): faceapi.Point {\n    this.svgPoint.x = x\n    this.svgPoint.y = y\n    const p = this.svgPoint.matrixTransform(this.$refs.svg.getScreenCTM()!.inverse())\n    return new faceapi.Point(p.x, p.y)\n  }\n\n\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandmarkEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandmarkEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LandmarkEditor.vue?vue&type=template&id=06ccb5a7&scoped=true&lang=pug&\"\nimport script from \"./LandmarkEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./LandmarkEditor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./LandmarkEditor.vue?vue&type=style&index=0&id=06ccb5a7&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06ccb5a7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"navbar\",attrs:{\"role\":\"navigation\",\"aria-label\":\"main navigation\"}},[_c('div',{staticClass:\"navbar-brand\"},[_c('div',{staticClass:\"navbar-item\"},[_vm._v(\"Landmark Editor\")]),_c('div',{staticClass:\"navbar-start\"},_vm._l((_vm.folders),function(ref){\nvar name = ref.name;\nvar items = ref.items;\nreturn _c('div',{staticClass:\"navbar-item has-dropdown is-hoverable\"},[_c('div',{staticClass:\"navbar-link\"},[_vm._v(_vm._s(name))]),_c('div',{staticClass:\"navbar-dropdown\"},_vm._l((items),function(item){return _c('a',{staticClass:\"navbar-item\",on:{\"click\":item.method}},[_vm._v(_vm._s(item.name)),(item.keymap)?_c('span',{directives:[{name:\"shortkey\",rawName:\"v-shortkey\",value:(item.keymap),expression:\"item.keymap\"}],on:{\"shortkey\":item.method}},[_vm._v(\" (\"+_vm._s(item.keymap.join('+'))+\")\")]):_vm._e()])}),0)])}),0)]),_c('input',{ref:\"input\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.onLoadFile}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-card\"},[_vm._m(0),_c('section',{staticClass:\"modal-card-body\"},[_c('h2',{staticClass:\"is-size-5\"},[_vm._v(\"Keyboard Shortcuts\")]),_c('table',{staticClass:\"table is-bordered is-striped\"},[_vm._m(1),_c('tbody',_vm._l((_vm.shortcuts),function(cols){return _c('tr',[_c('td',[_vm._v(_vm._s(cols[0]))]),_c('td',[_vm._v(_vm._s(cols[1]))])])}),0)])]),_c('footer',{staticClass:\"modal-card-foot\"})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"modal-card-head\"},[_c('p',{staticClass:\"modal-card-title\"},[_vm._v(\"Help\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Command\")]),_c('th',[_vm._v(\"Key\")])])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\n\n@Component({\n  components: {},\n})\nexport default class HelpModal extends Vue {\n\n  public shortcuts: string[][] = [\n    [ 'Next Frame', '.' ],\n    [ 'Prev Frame', ',' ],\n    [ 'Zoom In', 'x' ],\n    [ 'Zoom Out', 'z' ],\n    [ 'Copy', 'ctrl + c' ],\n    [ 'Paste', 'ctrl + v' ],\n    [ 'Delete', 'backspace'],\n  ]\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelpModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelpModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HelpModal.vue?vue&type=template&id=2edee66a&scoped=true&lang=pug&\"\nimport script from \"./HelpModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./HelpModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2edee66a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-card\"},[_vm._m(0),_c('section',{staticClass:\"modal-card-body\"},[_c('b-field',{attrs:{\"label\":\"Frame Rate:\"}},[_c('b-numberinput',{attrs:{\"controls-position\":\"compact\",\"min\":\"1\",\"max\":\"60\",\"step\":\"0.01\"},model:{value:(_vm.fps),callback:function ($$v) {_vm.fps=$$v},expression:\"fps\"}})],1)],1),_c('footer',{staticClass:\"modal-card-foot\"})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"modal-card-head\"},[_c('p',{staticClass:\"modal-card-title\"},[_vm._v(\"Preferences\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\nimport { AppModule } from '@/store/modules/app'\n\n@Component({\n  components: {},\n})\nexport default class PreferencesModal extends Vue {\n\n  private get fps(): number { return AppModule.fps }\n  private set fps(n: number) { AppModule.setFps(n) }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreferencesModal.vue?vue&type=template&id=8b6cc5e6&scoped=true&lang=pug&\"\nimport script from \"./PreferencesModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreferencesModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b6cc5e6\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\nimport { saveAs } from 'file-saver'\nimport { AppModule } from '@/store/modules/app'\nimport { TimelineModule } from '@/store/modules/timeline'\nimport HelpModal from '@/components/HelpModal.vue'\nimport PreferencesModal from '@/components/PreferencesModal.vue'\n\ninterface MenuItem {\n  name: string,\n  method: () => void,\n  keymap?: string[]\n}\n\ninterface MenuFolder {\n  name: string,\n  items: MenuItem[]\n}\n\n@Component({\n  components: { },\n})\nexport default class Menu extends Vue {\n\n  public $refs!: {\n    input: HTMLInputElement;\n  }\n\n  private folders: MenuFolder[] = [\n    {\n      name: 'File',\n      items: [\n        {\n          name: 'Load Video',\n          method: this.loadVideo,\n          keymap: ['ctrl', 'o'],\n        },\n        {\n          name: 'Load Json',\n          method: this.loadJson,\n        },\n        {\n          name: 'Save Json',\n          method: this.saveJson,\n          keymap: ['ctrl', 's'],\n        },\n      ],\n    },\n    {\n      name: 'Edit',\n      items: [\n        {\n          name: 'Copy',\n          method: this.onCopy,\n          keymap: ['ctrl', 'c'],\n        },\n        {\n          name: 'Paste',\n          method: AppModule.pasteFace,\n          keymap: ['ctrl', 'v'],\n        },\n        {\n          name: 'Delete',\n          method: AppModule.deleteFace,\n          keymap: ['backspace'],\n        },\n        {\n          name: 'Next Frame',\n          method: AppModule.nextFrame,\n          keymap: ['.'],\n        },\n        {\n          name: 'Prev Frame',\n          method: AppModule.prevFrame,\n          keymap: [','],\n        },\n        {\n          name: 'Preferences',\n          method: this.showPreferences,\n          keymap: ['ctrl', '.'],\n        },\n      ],\n    },\n    {\n      name: 'Help',\n      items: [\n        {\n          name: 'Show Help',\n          method: this.showHelp,\n          keymap: ['shift', '?'],\n        },\n      ],\n    },\n  ]\n\n  private loadVideo() {\n    this.$buefy.dialog.confirm({\n      message: 'Are you saved?',\n      onConfirm: () =>  {\n        const input = this.$refs.input\n        input.accept = 'video/*'\n        input.click()\n      },\n    })\n  }\n\n  private loadJson() {\n    this.$buefy.dialog.confirm({\n      message: 'current landmarks will be overwritten.',\n      onConfirm: () =>  {\n        const input = this.$refs.input\n        input.accept = 'application/json'\n        input.click()\n      },\n    })\n  }\n\n  private saveJson() {\n    // reduce json size before save\n    TimelineModule.reduceDataSize()\n    saveAs(TimelineModule.jsonBlob, 'landmarks.json')\n  }\n\n  private onCopy() {\n    if (AppModule.faceSelected) {\n      AppModule.copyFace()\n      this.$buefy.toast.open('Copied')\n    } else {\n      this.$buefy.toast.open({\n          message: 'Select face to copy',\n          type: 'is-warning',\n      })\n    }\n  }\n\n  private showHelp() {\n    this.$buefy.modal.open({\n      parent: this,\n      component: HelpModal,\n      hasModalCard: true,\n    })\n  }\n\n  private showPreferences() {\n    this.$buefy.modal.open({\n      parent: this,\n      component: PreferencesModal,\n      hasModalCard: true,\n    })\n  }\n\n  private onLoadFile(e: Event) {\n    const input = this.$refs.input\n    if (!input.files || input.files.length === 0) {\n      return\n    }\n    const file = input.files[0]\n    if (file.type.startsWith('video')) {\n      AppModule.loadVideo(file)\n    } else if (file.type.startsWith('application/json')) {\n      TimelineModule.loadJsonFile(file).catch((err) => {\n        console.warn(err)\n        this.showNotSupported()\n      })\n    } else {\n      console.log('unknown file', file)\n      this.showNotSupported()\n    }\n  }\n\n  private showNotSupported() {\n    this.$buefy.dialog.alert('This file is not supported.')\n  }\n\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=04c59eef&scoped=true&lang=pug&\"\nimport script from \"./Menu.vue?vue&type=script&lang=ts&\"\nexport * from \"./Menu.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Menu.vue?vue&type=style&index=0&id=04c59eef&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04c59eef\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"timeline\"},[_c('svg',{staticClass:\"scroller\",style:(_vm.svgStyle),attrs:{\"viewBox\":_vm.svgViewBox}},[_c('g',{attrs:{\"transform\":(\"translate(\" + (_vm.getPosX(_vm.current)) + \", 0)\")}},[_c('line',{staticClass:\"current-position\",attrs:{\"x1\":\"0\",\"y1\":\"0\",\"x2\":\"0\",\"y2\":_vm.frameHeight + _vm.labelHeight}}),_c('text',{staticClass:\"current-position-label\",attrs:{\"x\":\"1\",\"y\":_vm.labelHeight - 2}},[_vm._v(_vm._s(_vm.current))])]),_c('g',_vm._l((_vm.labeledFrameCount),function(n){return _c('text',{staticClass:\"frame-text\",attrs:{\"x\":_vm.getPosX(n * _vm.labelInterval),\"y\":\"0\"}},[_vm._v(_vm._s(n * _vm.labelInterval))])}),0),_c('g',{attrs:{\"transform\":(\"translate(0, \" + _vm.labelHeight + \")\")}},_vm._l((_vm.frames),function(faces,index){return _c('rect',{staticClass:\"frame\",class:_vm.getFrameClass(faces),attrs:{\"x\":_vm.getPosX(index),\"y\":\"0\",\"width\":_vm.frameWidth - 1,\"height\":_vm.frameHeight},on:{\"click\":function () { return _vm.current = index; }}})}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop } from 'vue-property-decorator'\nimport { AppModule } from '@/store/modules/app'\nimport { IFace } from '@/store/types'\nimport { TimelineModule } from '@/store/modules/timeline'\n\ninterface Payload {\n  event: DragEvent,\n  index: number,\n  row: IFace\n}\n\n@Component({\n  components: {},\n})\nexport default class Timeline extends Vue {\n\n  public $refs!: {\n  }\n\n\n  private frameWidth = 5\n  private frameHeight = 15\n  private labelHeight = 10\n  private labelInterval = 50\n\n  private get current(): number { return AppModule.currentFrame }\n  private set current(n: number) { AppModule.setCurrentFrame(n) }\n\n  private get total(): number { return Math.ceil(AppModule.totalFrame) }\n  private get labeledFrameCount(): number { return Math.floor(this.total / this.labelInterval) }\n\n  private get frames(): IFace[][] { return TimelineModule.frames }\n\n  private get svgViewBox(): string { return `0 0 ${this.getPosX(this.total)} ${this.frameHeight + 20}` }\n  private get svgStyle() {\n    return {\n      width: this.getPosX(this.total) + 'px',\n      height: this.frameHeight + 40 + 'px',\n    }\n  }\n\n  private getPosX(i: number) {\n    return i * this.frameWidth\n  }\n\n  private getFrameClass(frame: IFace[]) {\n    if (!frame) {\n      return 'frame-null'\n    }\n    const len = frame.length\n    if (len === 0) {\n      return 'frame-blank'\n    }\n    if (len === 1) {\n      return 'frame-1'\n    }\n    if (len === 2) {\n      return 'frame-2'\n    }\n    return 'frame-many'\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Timeline.vue?vue&type=template&id=fdfecec0&scoped=true&lang=pug&\"\nimport script from \"./Timeline.vue?vue&type=script&lang=ts&\"\nexport * from \"./Timeline.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Timeline.vue?vue&type=style&index=0&id=fdfecec0&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fdfecec0\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\nimport * as faceapi from 'face-api.js'\nimport { AppModule } from '@/store/modules/app'\nimport Controls from '@/components/Controls.vue'\nimport DetailTable from '@/components/DetailTable.vue'\nimport LandmarkEditor from '@/components/LandmarkEditor.vue'\nimport Menu from '@/components/Menu.vue'\nimport Timeline from '@/components/Timeline.vue'\n\n@Component({\n  components: {\n    Controls,\n    DetailTable,\n    LandmarkEditor,\n    Menu,\n    Timeline,\n  },\n})\nexport default class Home extends Vue {\n\n  private isLoading = true\n\n  private async mounted() {\n    // Load models\n    // const modelpath = 'https://justadudewhohacks.github.io/face-api.js/models'\n    const modelpath = 'models'\n    // await faceapi.loadSsdMobilenetv1Model(modelpath)\n    await faceapi.loadTinyFaceDetectorModel(modelpath)\n    await faceapi.loadFaceLandmarkModel(modelpath)\n    this.isLoading = false\n\n    window.addEventListener('beforeunload', this.onBeforeUnload)\n  }\n\n  private destroyed() {\n    window.removeEventListener('beforeunload', this.onBeforeUnload)\n  }\n\n  private onBeforeUnload(e: Event) {\n    // Confirm before leave this page\n    e.preventDefault()\n    e.returnValue = true\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=3754ea06&scoped=true&lang=pug&\"\nimport script from \"./Home.vue?vue&type=script&lang=ts&\"\nexport * from \"./Home.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=3754ea06&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3754ea06\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Home from './views/Home.vue'\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: '/',\n      name: 'home',\n      component: Home,\n    },\n  ],\n})\n","/* tslint:disable:no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB',\n      )\n    },\n    registered() {\n      console.log('Service worker has been registered.')\n    },\n    cached() {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound() {\n      console.log('New content is downloading.')\n    },\n    updated() {\n      console.log('New content is available; please refresh.')\n    },\n    offline() {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error(error) {\n      console.error('Error during service worker registration:', error)\n    },\n  })\n}\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport './registerServiceWorker'\nimport Buefy from 'buefy'\nimport 'buefy/dist/buefy.css'\nimport * as ShortKey from 'vue-shortkey'\n\nVue.use(Buefy)\nVue.use(ShortKey)\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  render: (h) => h(App),\n}).$mount('#app')\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=sass&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=sass&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=3754ea06&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=3754ea06&lang=sass&scoped=true&\""],"sourceRoot":""}